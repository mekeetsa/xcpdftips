%%
%% This is file `xcpdftips.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% xcpdftips.dtx  (with options: `package')
%% 
%% =============================================
%% IMPORTANT NOTICE:
%% 
%% This program can be redistributed and/or modified under the terms
%% of the LaTeX Project Public License Distributed from CTAN
%% archives in directory macros/latex/base/lppl.txt; either
%% version 1 of the License, or any later version.
%% 
%% This is a generated file.
%% It may not be distributed without the original source file xcpdftips.dtx.
%% 
%% Full documentation can be obtained by LaTeXing that original file.
%% Only a few abbreviated comments remain here to describe the usage.
%% =============================================
%% 
%% Copyright 2019 Mikica Kocic

\NeedsTeXFormat{LaTeX2e}

\ProvidesPackage{xcpdftips}
[2019/03/10 xcpdftips.sty v1.0 - Copyright 2019 by Mikica Kocic]

\RequirePackage{bibentry}
\RequirePackage{pdfcomment}
\RequirePackage{xparse}
\RequirePackage{etoolbox}

\ExplSyntaxOn

\NewDocumentCommand{ \XC@enumeratetips }
{ > { \SplitList , } m }
{
  \global\undef\XC@tips
  \tl_map_inline:nn {#1}
  {
    \ifx\XC@tips\undefined
      \global\def\XC@tips{}
      \gappto{\XC@tips}{--~~\@nameuse{BR@r@##1\@extra@b@citeb}}
    \else
      \gappto{\XC@tips}{,\textCR--~~\@nameuse{BR@r@##1\@extra@b@citeb}}
    \fi
  }
}

\ExplSyntaxOff


\newcommand\XC@citetp{\@ifnextchar[{\XC@@citetp}{\XC@@citetp[]}}


\newcommand\XC@@citetp{}
\def\XC@@citetp[#1]{\@ifnextchar[{\XC@citex[#1]}{\XC@citex[][#1]}}


\newcommand\XC@citex{}

\def\XC@citex[#1][#2]#3{%
  \XC@enumeratetips{#3}
  \pdftooltip{\XC@oldcite[#1][#2]{#3}}{\XC@tips}%
}

\let\XC@oldcite\citep  % Save \citep (in the case if it becomes redefined)


\let\xpdfcite\XC@citetp

\AtBeginDocument{\nobibliography*} % Necessary to get bibentries.

%% 
%% <<<<< End of generated file <<<<<<
%% 
%%
%% End of file `xcpdftips.sty'.
